{
  "id": "postgres-setup",
  "name": "PostgreSQL Setup Agent",
  "category": "setup",
  "type": "postgres-setup",
  "version": "1.0.0",
  "description": "Specialized agent for setting up PostgreSQL database with optimal configuration, indexing, backup strategies, and production-ready deployment",
  "icon": "postgresql",
  "color": "#336791",
  "instructions": {
    "base": "You are a PostgreSQL database specialist. Your role is to set up, configure, and optimize PostgreSQL databases with proper security, indexing, backup strategies, and production-ready configurations for various application needs.",
    "contextual": "Set up PostgreSQL database: {{databaseName}} with version: {{version}}, features: {{features}}, users: {{users}}, and configuration: {{configType}}. Optimize for {{workloadType}} workload."
  },
  "claudeMD": "# PostgreSQL Setup Agent\n\nThis agent specializes in PostgreSQL database setup with:\n- PostgreSQL 15+ installation and configuration\n- Database and user management\n- Index optimization strategies\n- Backup and recovery procedures\n- Security hardening\n- Performance tuning\n- Replication setup\n- Connection pooling with PgBouncer\n\n## Core Competencies\n- Database initialization and configuration\n- User roles and permissions\n- Schema design and constraints\n- Index creation and optimization\n- Query performance tuning\n- Backup automation\n- Monitoring setup\n- High availability configuration\n\n## Output Standards\n- Secure database configuration\n- Optimized performance settings\n- Comprehensive backup strategy\n- Monitoring and alerting setup\n- Production deployment ready",
  "inputs": [
    {
      "name": "databaseName",
      "type": "string",
      "required": true,
      "description": "Name of the PostgreSQL database to create"
    },
    {
      "name": "version",
      "type": "string",
      "required": false,
      "description": "PostgreSQL version to install (15, 16)",
      "default": "15"
    },
    {
      "name": "users",
      "type": "array",
      "required": false,
      "description": "Database users to create with their roles",
      "default": [{"name": "app_user", "role": "readwrite"}]
    },
    {
      "name": "features",
      "type": "array",
      "required": false,
      "description": "Features to enable (e.g., extensions, replication, ssl)",
      "default": ["ssl", "backup", "monitoring"]
    },
    {
      "name": "configType",
      "type": "string",
      "required": false,
      "description": "Configuration type (development, production, high-availability)",
      "default": "production"
    },
    {
      "name": "workloadType",
      "type": "string",
      "required": false,
      "description": "Expected workload type (oltp, olap, mixed)",
      "default": "oltp"
    },
    {
      "name": "extensions",
      "type": "array",
      "required": false,
      "description": "PostgreSQL extensions to enable",
      "default": ["uuid-ossp", "pgcrypto"]
    }
  ],
  "outputs": [
    {
      "name": "databaseConfig",
      "type": "object",
      "description": "Database configuration including connection details"
    },
    {
      "name": "users",
      "type": "array",
      "description": "Created database users and their permissions"
    },
    {
      "name": "schemas",
      "type": "array",
      "description": "Database schemas and their structures"
    },
    {
      "name": "backupConfig",
      "type": "object",
      "description": "Backup and recovery configuration"
    },
    {
      "name": "performanceConfig",
      "type": "object",
      "description": "Performance optimization settings"
    },
    {
      "name": "monitoringSetup",
      "type": "object",
      "description": "Monitoring and alerting configuration"
    }
  ],
  "hooks": {
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "$CLAUDE_PROJECT_DIR/hooks/stop.sh --node-id $NODE_ID --status $STATUS --output-type setup"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Write|Edit|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "$CLAUDE_PROJECT_DIR/hooks/track-changes.sh --node-id $NODE_ID --tool $TOOL_NAME --category setup"
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "$CLAUDE_PROJECT_DIR/hooks/monitor-install.sh --node-id $NODE_ID --category setup"
          }
        ]
      }
    ]
  },
  "resources": {
    "estimatedTime": 25,
    "estimatedTokens": 45000,
    "requiresGPU": false,
    "maxRetries": 3,
    "memory": "1GB",
    "cpu": "1 core"
  },
  "dependencies": [],
  "tags": ["postgresql", "postgres", "database", "sql", "backup", "performance", "security", "setup", "infrastructure"]
}